<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Feed My Brain</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body{font-family:system-ui,sans-serif;max-width:600px;margin:2rem auto}
    #profile{white-space:pre-wrap;background:#f3f3f3;padding:1rem;border-radius:6px}
    button{margin:.4rem .6rem .4rem 0;padding:.4rem .8rem}
  </style>
</head>
<body>
  <h1 class="text-2xl font-bold mb-4">Feed My Brain</h1>
  <div class="flex flex-col md:flex-row gap-8">
    <!-- Left Column: User & Feed Management -->
    <div class="w-full md:w-1/3 flex flex-col gap-6">
      <!-- User/Avatar Section -->
      <div id="user-section" class="flex items-center gap-4 p-4 bg-gray-100 rounded-lg">
        <!-- Avatar Placeholder -->
        <div id="avatar" class="w-16 h-16 rounded-full bg-gray-300 flex-shrink-0 overflow-hidden flex items-center justify-center">
          <!-- Avatar image will go here -->
        </div>
        <div class="flex flex-col">
          <div id="user-info" class="leading-tight">
            <!-- Name, Surname will go here -->
          </div>
          <button id="btn-login" class="mt-2 bg-blue-500 text-white px-3 py-1 rounded" style="display:none">Log in</button>
          <button id="btn-logout" class="mt-2 bg-red-500 text-white px-3 py-1 rounded" style="display:none">Log out</button>
        </div>
      </div>
      <!-- Feed Management -->
      <div id="feed-management" class="bg-white rounded-lg p-4 shadow">
        <form id="add-feed-form" class="flex mb-4">
          <input type="url" id="feed-url-input" placeholder="Enter feed URL to follow..." class="flex-grow p-2 border rounded-l-md" required>
          <button type="submit" class="bg-blue-500 text-white p-2 rounded-r-md hover:bg-blue-600">Add Feed</button>
        </form>
        <h3 class="text-lg font-semibold mb-2">My Feeds</h3>
        <ul id="my-feeds-list" class="divide-y divide-gray-200">
          <!-- Feed list rendered here -->
        </ul>
        <button id="sync-feeds-btn" class="bg-green-500 text-white p-2 rounded-md mt-4 w-full hover:bg-green-600">Sync My Feeds</button>
      </div>
    </div>
    <!-- Right Column: Videos -->
    <div class="w-full md:w-2/3 flex flex-col gap-6">
      <div class="flex flex-col md:flex-row gap-4">
        <!-- New Column -->
        <div class="flex-1">
          <h3 class="font-semibold text-lg mb-2">New <span id="badge-new" class="inline-block bg-blue-500 text-white text-xs rounded-full px-2 ml-2 align-middle"></span></h3>
          <ul id="new"></ul>
        </div>
        <!-- Saved for Later Column -->
        <div class="flex-1">
          <h3 class="font-semibold text-lg mb-2">Saved for Later <span id="badge-saved" class="inline-block bg-green-500 text-white text-xs rounded-full px-2 ml-2 align-middle"></span></h3>
          <ul id="saved"></ul>
        </div>
      </div>
    </div>
  </div>
  <div id="toast" style="display:none;position:fixed;bottom:32px;left:50%;transform:translateX(-50%);background:#333;color:#fff;padding:12px 24px;border-radius:8px;z-index:1000;min-width:180px;text-align:center;font-size:1rem;box-shadow:0 2px 8px rgba(0,0,0,0.15);opacity:0.95;transition:opacity 0.3s;">
    Toast message
  </div>
  <dialog id="playerModal" class="p-0 rounded-xl shadow-xl">
    <button id="closeModal" class="absolute top-2 right-3 text-xl">âœ•</button>
    <iframe id="playerFrame" width="560" height="315"
            src="" title="YouTube video" allow="autoplay; picture-in-picture"
            allowfullscreen></iframe>
  </dialog>
  <script type="module" src="main.js"></script>
  <script>
    // Collapsible logic for mobile (if needed in future)
    // Toast logic
    window.showToast = function(message) {
      const toast = document.getElementById('toast');
      if (!toast) return;
      toast.textContent = message;
      toast.style.display = 'block';
      toast.style.opacity = '0.95';
      setTimeout(() => {
        toast.style.opacity = '0';
        setTimeout(() => { toast.style.display = 'none'; }, 400);
      }, 1800);
    }
  </script>
</body>
</html>

